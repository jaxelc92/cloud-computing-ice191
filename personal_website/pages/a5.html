<div class="modal-header border-0">
    <button
      class="btn-close"
      type="button"
      data-bs-dismiss="modal"
      aria-label="Close"
    ></button>
  </div>
  <div class="modal-body text-center pb-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <!-- Portfolio Modal - Title-->
          <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">
            Assignment 5
          </h2>
          <!-- Icon Divider-->
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
          </div>
          <!-- Portfolio Modal - Image-->
          Work in progress
          <!-- Portfolio Modal - Text-->
          <!-- Accordion -->
          <div class="accordion-body">
            <!-- Accordion item 1 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q1"
              aria-expanded="false"
            >
              1. Lambda Function to CRUD over the Students DynamoDB table.
            </button>
            <div id="assignment-q1" class="collapse mb-3">
              <div align="justify">
                <p>
                  Before starting to create a Lambda Function, let's remember what it is.
                </p>
                <p>
                  AWS Lambda is a compute service that lets you run code without provisioning or managing servers. Lambda runs your code on a compute infrastructure and performs all of the administration of the compute resources, including server and operating system maintenance, capacity provisioning and automatic scaling, and logging. 
                With Lambda, you can run code for virtually any type of application or backend service. To see a list of the languages that Lambda supports, visit <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">Lambda runtimes</a>. <br>
                In other words, we can say that a Lambda function is a serverless service, or FaaS (Function as a Service), that allows us to run code within other AWS Services. One of the main advantages of Lambda, is that it allows the developer on focusing more on the code, letting the service to run the managing tasks.
                </p>
                <p>
                  There are advantages when using AWS Lambda, one of the main advantages is the <b>scalability</b> of applications and projects. Let's have a look at some advantages:
                </p>
                <p>
                  <b>Advantages:</b>
                  <ul>
                    <li><b>Scalability: </b>It's a highly scalable service. Helps to handle large volume of requests</li>
                    <li><b>Cost-effective:c</b>Depending of the number of requests and time of execution of the code, so only pay for what it is used</li>
                    <li><b>Low maintenance:c</b>The developer doesn't have to worry about management, operating systems or patching. AWS does all maintenance.</li>
                    <li><b>Integration with other AWS services: </b>It easily integrates with other services such as Amazon S3, Amazon DynamoDB, and Amazon API Gateway</li>
                  </ul>
                </p>
                <p>
                  There are also some disadvantages that we can come across when using Lambda functions.
                </p>
                <p>
                  <b>Disadvantages:</b>
                  <ul>
                    <li><b>Cold start delays:</b> It takes longer to start up at the first time the function is executed, causing delays</li>
                    <li><b>Limited execution time:</b> It has a maximum execution time of 15 minutes, so this may not be enough for certain cases</li>
                    <li><b>Limited resources:</b> It hast a limited amout of CPU, memory and network resources available. So it not my be enough for some applications</li>
                    <li><b>Debugging can be challenging:</b> In contrast with traditional debugging, AWS Lambda requires to work remotely, as the code runs in the cloud, and you will rely on debugging and monitoring tools to do it. This may not reproduce the same conditions that caused the problem, also, it can be difficult to trace the flow of events 
                    thorugh the system and determine where the problem is ocurring</li>
                  </ul>
                </p>
                <p>
                  To create a Lambda Function, we simply use the AWS CLI with the corresponding command, and specify the settings for the Lambda Function. But this is tricky becuase there are some things that need to be considered. <br>
                  In this case, we are going to create a Lambda function to run Python code. To do this, we need to create something called <code>a deployment package</code>, this is neccesary to deploy code to Lambda. A deployment package will act as the source bundle to run our function's code and its dependencies. <br>
                  Lambda supports two types of deployment packages: container images and zip files. We are using <b>zip files</b> for our Lambda. <br>
                  In this zip file, we need to <b>include the application code and its dependencies (if any).</b>
                </p>
                <p>
                  Let's go back to our python scripts that did stuff into DynamoDB. These scripts were used to <code>create</code>, <code>update</code>, <code>find</code> or <code>delete</code> an item on a table. Now we want to create a AWS Lambda function that CRUD over this. <br>
                  <b>NOTE:</b> CRUD stands to <b>CREATE</b>, <code>READ</code>, <code>UPDATE</code> and <code>DELETE</code>, in relationship with HTTP requests, they refer to the HTTP methods: POST, GET, PATCH and DELETE. In this example we are using PATCH over PUT. <br>
                  So we are perfoming the same operations, but these time, the Lambda function will perform these operations.
                </p>
                <p>
                  <ol>
                    <li>
                      First, we need to integrate our 4 scripts into a single script, or file. So we can just call the file and choose what to do. I have integrated my scrtips into one file and define every actions as a <code>function</code>. Additionally, I modified a little bit every function, this is it looks like:
                      <img src="assets/img/assignment_imgs/assignment5/q1_crudScript.png" width="100%" alt="">
                      The payload in every function is the information what will be passed in to the function to do the corresponding action. This information can have several ways, in this case, the payload will be passed in as a API request.
                    </li>
                    <li>
                      After having our script integrated, we need to create another file. This file will be a function that will handle our Lambda every time we run it. It is called <b>the handler</b>. <br>
                      The handler is the name of the method within our code that Lambda calls to run our function and process events. When a Lambda function is invoked, it runs the handler method. When the handler method is invoked, the Lambda passes two arguments: <code>event</code> and <code> context.</code> <br>
                      <b>Event</b> is an object that contains information from the invoking service. In other words, the event is from where, or what, the Lambda will get the information from to perform some action. <br>
                      <b>Context</b> is an object that provides methods and properties that provide information about the invocation, function and runtime environment. In other words, we can see the context object as the meta data of our runtime environment.
                      <br>
                      Since we are using a ZIP file as our deployment package, this <b>handler is required.</b> <br>
                      Let's create our Lambda handler function in another file. We are going to call this file <code>lamda_function.py</code>
                      <img src="assets/img/assignment_imgs/assignment5/lambda_handler.png" width="100%" alt="">
                      In this case, we are going to get the information to perfom a CRUD action from an event, and this event could be either a JSON file that is passed in, or an API call. Note that I'm importing my Python script called <code>crud_dynamobd</code> wich do the CRUD actions. So I need to place these 2 files (lambda_function.py and crud_dynamodb.py) inside the same folder so these files 
                      will be my deployment package.
                    </li>
                    <li>
                      Now that I have my 2 files that will be my deployment package, simply create a ZIP file containing these files. <b>REMEMBER</b> to include all your code dependencies to the ZIP file as well.
                    </li>
                    <li>
                      Now we proceed to create our Lambda Function, we can use the following command on the AWS CLI:
                    </li>
                  </ol>
                </p>
              </div>
            </div>
  
            <!-- Accordion item 2 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q2"
              aria-expanded="false"
            >
              2. API Gateway API to CRUD over Lambda function.
            </button>
            <div id="assignment-q2" class="collapse mb-3">
              <div align="justify">
                <p>
                  <b>What is API Gateway?</b><br>
                  It is a fully-managed service that makes it easy to create, publish, maintain, monitor, and secure APIs. It serves as a front door for the application, by allowing us to connect backend services to the internet or other client applications in a secure way.
                </p>
                <p>
                  API Gateway can help us to create a RESTful API and integreate AWS services with other HTTP endpoints, can be with other APIs as well. Also, we can transform and route requests, apply security policies, and monitor the API usage and performance.
                </p>
                <p>
                  To create a RESTful API with AWS API Gateway, we can run the following command on the AWS CLI: <br>
                  <code>aws apigateway create-rest-api --name jaxelc-rest-api</code> <br>
                  Output:
                  <img src="assets/img/assignment_imgs/assignment5/api_create_api.png" width="100%" alt="">
                  Here we get the main details of our API.
                </p>
                <p>
                  Now we need to add the resources that operates in the APIs. These resources are objects that clients interact with. These resources are used to define the paths and operations that clients can invoke. <br>
                  So in order for the users to use our API, we need to add these resources.
                </p>
                <p>
                  Let's start by checking whether if our API has any resource. We use the following command: <br>
                  <code>aws apigateway get-resources --rest-api-id i3jytdsbre</code>
                  <img src="assets/img/assignment_imgs/assignment5/api_get_resources_1.png" width="100%" alt="">
                  As we can see there no resource yet in our API, however, there is an ID in there, this is the parent ID of our API and the parent PATH, this is necessary to add the resources to the API. 
                </p>
                <p>
                  Let's create the resources that the API will have. To work well with our scripts, we are going to use resources to:
                  <ul>
                    <li>A resource to show the items on the Students Dynamodb table</li>
                    <li>A resource to show the created item after its creation</li>
                    <li>A resource to show an item after finding it by its id</li>
                    <li>A resource to show an item after updating it</li>
                    <li>A resource to show the id of a deleted item</li>
                  </ul>
                  To create the resources we use the command: <code>aws apigateway create-resource --rest-api-id API_ID --parent-id PARENTH_PATH_ID --path-part RESOURCE_NAME</code> <br>
                  Here, the <code>--rest-api-id</code> is the id of the api just created. The <code>--paren-id</code>, means the id of the path where you want your resource to be, and the <code>--path-part</code> is the resource name.
                </p>
                <p>
                  Every resource is created within the parent path of the API, meaning the root path. So for example, the path for the resource to show the students in the dynamodb table will be like <code>/students</code>, the resource to see the details of a 
                created item would be <code>/created</code>, and so on. <br>
                The only resource that will not be in the root path, will be the one to show the id of an item after it is deleted. So we need to create a resource path for the deleted item, and then create a resource path for the id. So with the command: <br>
                <code>aws apigateway create-resource</code> instead of the parent-id of the root, we are going to set the <code>deleted</code> resource id as the parent id. With this, the resource will have the path of <code>/deleted/{id}</code>
                <img src="assets/img/assignment_imgs/assignment5/create_resource_deleted_id.png" width="100%" alt="">
                </p>
                <p>
                  Now what we need to do is to add the <code>HTTP Methods</code> that we want to use in the API. In this case we are going to use <code>POST</code> for creating, <code>GET</code> for reading, <code>PATCH</code> for updating and <code>DELETE</code> for deleting. <br>
                  Before adding, we need to go back to our <code>lambda_handler</code> method in our Lambdafunction file and change the keyword to represent the HTTP methods.
                </p>
              </div>
            </div>
  
            <!-- Accordion item 3 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q3"
              aria-expanded="false"
            >
              3. Implementation of 404 HTTP response when invalid id is passed to read in the API Gateway/Lambda.
            </button>
            <div id="assignment-q3" class="collapse mb-3">
              <div align="justify">
                
              </div>
            </div>

            <!-- Accordion item 4 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q4"
              aria-expanded="false"
            >
              4. Test Driven Developement is the best thing that has happened to software design.
            </button>
            <div id="assignment-q4" class="collapse mb-3">
              <div align="justify">
                <p>
                  TDD (Test Driven Developement) is based on the the idea of a <em>'fail-pass-refactor'</em>. This means that when writing software using this technique TDD, there is no need to know how the final product will look like, this involves knowing the code structure such as class names, methods, or implementation details.
                </p>
                <p>
                  TDD is know to be an iterative approach that helps software to become an 'elegant' solution. This means that the software works as expected in certain way that is well interpreted by every environment. It is a fancy approach!.
                </p>
                <p>
                  There are things to consider, and this approach supports every one of them. Let's think about creating an application, we can write code and then test it, or backwards, we can write some tests cases and the write the code. This may seem farfecthed, but thanks to TDD, these 2 design solutions are a good to go approach.
                </p>
                <p>
                  <ol>
                    <li>When writing code first and then you need to test it. You write some tests and find out that your code runs perfectly and passes all the tests. This may sound perfect, but there are still some downs because details about implementation. Then some questions arise that can break this approach down: <em>When to testing? How to know coding is done?</em></li>
                    <li>On the other hand, when start by defining some tests first, there are some benefits. First the tests can verify behaviours and not implementation details. Secondly, the documentation is always up to date, and the code is written based on this documentation. And the only actual question that rises from this approach is: <em>what to expect from the code?</em></li>
                  </ol>
                </p>
                <p>
                  In some cases, you can be in the situation where you have code that it may seem impossible to test, and TDD helps to know how to use it on this kind of code. There are some ways: <br>
                  <ul>
                    <li>
                      <b>Spying and Mocking</b><br><em>There is no way to write a proper test!</em> This can happen when writing code first and tests are postponed. If test are postponed that much, it becomes so difficult to write tests for existing code, as code grows, so the complexity of it.
                    </li>
                    <li>
                      <b>Variable Test Data</b><br>
                      Not all data is indempotent, so we writing tests and test some code, not always will get the same results. Also, there might be data that it is outside the block or scope being tested, so it will be difficult to know if the problem comes from outside the code or from another method.
                    </li>
                    <li>
                      <b>Bloated Setup</b><br>
                      When having methods that need to be initialized from other methods or services, there might rise some delays in the startud of these methods, and the object might either has too many dependencies or the Single Responsibility principle has been broken.
                    </li>
                    <li>
                      <b>Mocking Hell</b><br>
                      Nobody wants to stuck in going back to see mocks that return another muck and so on and so on. This hell is due to breaking the <em>The Law of Demeter</em> which implies that information is leaking from one component to another. Now you can think, is the production code ok or the tests? Because of a small change can lead to a butterfly effect into these.
                    </li>
                  </ul>
                </p>
                <p>
                  It's imporant to know, or think, that TDD being the 'best thing' that has happened to software design is subjective and dependes on a lot of factors, including the actual project and the development team. Yes, TDD is found to be very useful by some developers and organizations to catch bugs and errors early in development processes, and this can result in better code quality, 
                  However, there are different development technologies and practices out there that can work better for different teams or projects, and what works best for some organization might not work as well as that for another.
                </p>
              </div>
            </div>

          </div> <!-- ends accordion -->

          <button class="btn btn-primary" data-bs-dismiss="modal">
            <i class="fas fa-xmark fa-fw"></i>
            Close Window
          </button>
        </div>
      </div>
    </div>
  </div>
  