<div class="modal-header border-0">
    <button
      class="btn-close"
      type="button"
      data-bs-dismiss="modal"
      aria-label="Close"
    ></button>
  </div>
  <div class="modal-body text-center pb-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-11">
          <!-- Portfolio Modal - Title-->
          <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">
            Assignment 6
          </h2>
          <!-- Icon Divider-->
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
          </div>
          <!-- Portfolio Modal - Image-->
          <!-- Portfolio Modal - Text-->
          <!-- Accordion -->
          <div class="accordion-body">
            <!-- Accordion item 1 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q1"
              aria-expanded="false"
            >
              1. Modify Lambda Function to include the field City for each new Record in the Students DynamoDB table.
            </button>
            <div id="assignment-q1" class="collapse mb-3">
              <div align="justify">
                <p>
                    For this task, I just need to go to update the CRUD functions in the crud_dynamodb file. This is because of the way that I implemented the Lambda. Since I have the Lambda function handler in a different 
                    file, there is no need to change nothing on this file.
                </p>
                <p>
                    The functions that need to be updated are: <code>create</code> and <code>update</code> functions. This is how the functions look like now:
                    <ul>
                        <li>
                            <b>Create function</b>
                            <div>
                                <img src="assets/img/assignment_imgs/assignment5/create_function_updated.png" width="100%" alt="">
                            </div>
                        </li>
                        <li>
                            <b>Update funtion</b>
                            <div>
                                <img src="assets/img/assignment_imgs/assignment5/update_function_updated.png" width="100%" alt="">
                            </div>
                        </li>
                    </ul>
                </p>
                <p>
                    As we can see, the <code>create</code> function takes a whole item to add it to the Students DynamoDB table, so in this case, there is no need to modify in this function. To include the field <b>city</b> in the item, we just need to 
                    specify it in the input payload of the Lambda Function when invoking the function, or when sending a <code>POST</code> request to the API. Remember that this payload is JSON formatted data, and it should look like this for creating a new item in the table with the <b>city</b> field inside it:
                    <div>
                        <img src="assets/img/assignment_imgs/assignment6/create_input_json.png" alt="">
                    </div>
                </p>
                <p>This will create an item in the Students DynamoDB table when invoking the <code>create</code> function.</p>
                <h4>Testing the Create function</h4>
                <p>Let's test the <code>create</code> function by sending a <code>POST</code> request to the API for creating a new item with city field. I will use <b>Postman</b> to test it.</p>
                <div><img src="assets/img/assignment_imgs/assignment6/postman_createWithCity_test.png" width="100%" alt=""></div>
                <p>Specify that the input is in the body of the request using the JSON format mentioned earlier. Just a reminder to use the correct URL for <code>POST</code> requests in the API.</p>
                <div><img src="assets/img/assignment_imgs/assignment6/postman_createWithCity_test_sucess.png" width="100%" alt=""></div>
                <p>We can see that the request was successful because we got an status code of 200. Let's scan the Students DynamoDB table to confirm that our item was successfully created: <br>
                    <code>aws dynamodb scan --table-name Students</code>
                    <div><img src="assets/img/assignment_imgs/assignment6/dynamo_test_create.png" alt=""></div>
                </p>
                <p>Scrolling down to look for our item, and there it is. This means that the creation of the item with the field <b>city</b> was successful.</p>
                <h4>Testing the Update function</h4>
                <p>
                    Now, for the <code>update</code> function. Here we do need to modify a little bit the function so it will update, or sucharnge, the <b>city</b> field. If we don't modify the function and we try to update an Item that has the <b>city</b> field in it, we will get an error when invoking the function. 
                    So we need to modify the function to handle the city field. Just modify the <code>update expresion</code> and the <code>expression attributes</code> of the <code>get_item()</code> dynamodb method. <br>
                    Let's <code>scan</code> the Students DynamoDB table and look for our item: <code>aws dynamodb scan --table-name Students</code>
                    <div>
                        <img src="assets/img/assignment_imgs/assignment6/axel_item_dynamodb.png" alt="">
                    </div>
                </p>
                <p>This is our actual item, with our actual data, and as we can see, we don't have the <b>city</b> field. <br>
                    So in order to add the field to the item, let's modify the <code>update</code> function in the CRUD file.</p>
                <img src="assets/img/assignment_imgs/assignment6/update_function_modified.png" width="100%" alt="">
                <p>As mentioned before, I modified the <code>update expression</code> and the <code>expression attributes</code> to include the <b>city</b> field in the item.</p>
                <p>Before testing this new modified <code>update</code> function, we need to update the Lambda Function deploy package, so the Lambda function can execute the updated code. Just create a new <b>ZIP</b> file with the updated code and use the command to update it: <br>
                <code>aws lambda update-function-code</code></p>
                <p>To test and update the item with the new field <b>city</b>, there 2 ways to do it. The first one, the obvious one, is calling the modified <code>update</code> function to update the item. The second option is to delete the existing item, and create a new item using the <code>create</code> function 
                and specifying the city as we did in the previous step. Let's use the modified <code>update</code> function. <br>
                I will send a <code>PATCH</code> request to the API to modify the item using <b>Postman</b> specifying the values to be updated.</p>
                <img src="assets/img/assignment_imgs/assignment6/postman_updateWithCity_test.png" width="100%" alt="">
                <p>It's important to mention that because of my code implementation, is why the request body has to be passed in in this format when invoking the <code>update</code> function. <br>
                Now let's check the response of the request</p>
                <img src="assets/img/assignment_imgs/assignment6/postman_updateWithCity_test_success.png" width="100%" alt="">
                <p>As we can see, the response was successful and the Item has been updated with a new field called <b>city</b>. Let's scan the Students table to verify that the Item was actually updated. <br>
                <code>aws dynamodb scan --table-name Students</code></p>
                <img src="assets/img/assignment_imgs/assignment6/dynamo_test_update.png" alt="">
                <p>As we can see, the update was successful, and the Item was updated correctly and now the field <b>city</b> has been added.</p>
                <!-- Ends accordion item 1 content -->
              </div>
            </div>
  
            <!-- Accordion item 2 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q2"
              aria-expanded="false"
            >
              2. Modify Read in Lambda function to return the weather of the city assigned to the Students DynamoDB table.
            </button>
            <div id="assignment-q2" class="collapse mb-3">
              <div align="justify">
                
              </div>
            </div>
  
            <!-- Accordion item 3 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q3"
              aria-expanded="false"
            >
              3. Add authorization to API Gateway API Only valid user is admin and password abc123!@#
            </button>
            <div id="assignment-q3" class="collapse mb-3">
              <div align="justify">
                
              </div>
            </div>

            <!-- Accordion item 4 -->
            <button
              class="accordion-button collapsed mb-3"
              data-bs-toggle="collapse"
              data-bs-target="#assignment-q4"
              aria-expanded="false"
            >
              4. Test Driven Developement is the best thing that has happened to software design.
            </button>
            <div id="assignment-q4" class="collapse mb-3">
              <div align="justify">
                <p>
                  TDD (Test Driven Developement) is based on the the idea of a <em>'fail-pass-refactor'</em>. This means that when writing software using this technique TDD, there is no need to know how the final product will look like, this involves knowing the code structure such as class names, methods, or implementation details.
                </p>
                <p>
                  TDD is know to be an iterative approach that helps software to become an 'elegant' solution. This means that the software works as expected in certain way that is well interpreted by every environment. It is a fancy approach!.
                </p>
                <p>
                  There are things to consider, and this approach supports every one of them. Let's think about creating an application, we can write code and then test it, or backwards, we can write some tests cases and the write the code. This may seem farfecthed, but thanks to TDD, these 2 design solutions are a good to go approach.
                </p>
                <p>
                  <ol>
                    <li>When writing code first and then you need to test it. You write some tests and find out that your code runs perfectly and passes all the tests. This may sound perfect, but there are still some downs because details about implementation. Then some questions arise that can break this approach down: <em>When to testing? How to know coding is done?</em></li>
                    <li>On the other hand, when start by defining some tests first, there are some benefits. First the tests can verify behaviours and not implementation details. Secondly, the documentation is always up to date, and the code is written based on this documentation. And the only actual question that rises from this approach is: <em>what to expect from the code?</em></li>
                  </ol>
                </p>
                <p>
                  In some cases, you can be in the situation where you have code that it may seem impossible to test, and TDD helps to know how to use it on this kind of code. There are some ways: <br>
                  <ul>
                    <li>
                      <b>Spying and Mocking</b><br><em>There is no way to write a proper test!</em> This can happen when writing code first and tests are postponed. If test are postponed that much, it becomes so difficult to write tests for existing code, as code grows, so the complexity of it.
                    </li>
                    <li>
                      <b>Variable Test Data</b><br>
                      Not all data is indempotent, so we writing tests and test some code, not always will get the same results. Also, there might be data that it is outside the block or scope being tested, so it will be difficult to know if the problem comes from outside the code or from another method.
                    </li>
                    <li>
                      <b>Bloated Setup</b><br>
                      When having methods that need to be initialized from other methods or services, there might rise some delays in the startud of these methods, and the object might either has too many dependencies or the Single Responsibility principle has been broken.
                    </li>
                    <li>
                      <b>Mocking Hell</b><br>
                      Nobody wants to stuck in going back to see mocks that return another muck and so on and so on. This hell is due to breaking the <em>The Law of Demeter</em> which implies that information is leaking from one component to another. Now you can think, is the production code ok or the tests? Because of a small change can lead to a butterfly effect into these.
                    </li>
                  </ul>
                </p>
                <p>
                  It's imporant to know, or think, that TDD being the 'best thing' that has happened to software design is subjective and dependes on a lot of factors, including the actual project and the development team. Yes, TDD is found to be very useful by some developers and organizations to catch bugs and errors early in development processes, and this can result in better code quality, 
                  However, there are different development technologies and practices out there that can work better for different teams or projects, and what works best for some organization might not work as well as that for another.
                </p>
              </div>
            </div>

          </div> <!-- ends accordion -->

          <button class="btn btn-primary" data-bs-dismiss="modal">
            <i class="fas fa-xmark fa-fw"></i>
            Close Window
          </button>
        </div>
      </div>
    </div>
  </div>
  